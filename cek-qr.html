<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cek & Download QR Code</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <nav>
        <a href="index.html">ğŸ  Home</a>
        <a href="daftar.html">ğŸ“ Daftar</a>
        <a href="cek-qr.html" class="active">ğŸ” Cek QR</a>
        <a href="admin/index.html">âš™ï¸ Admin</a>
    </nav>

    <div class="container fade-in">
        <h1>ğŸ” Cek & Download QR Code</h1>
        
        <div style="margin-bottom: 30px; text-align: center;">
            <p>Cari tiket Anda berdasarkan nomor tiket, lalu verifikasi dengan nama dan HP.</p>
        </div>
        
        <form id="cekForm">
            <div>
                <label for="cekNomorTiket">Nomor Tiket:</label>
                <input type="text" id="cekNomorTiket" placeholder="Masukkan nomor tiket Anda" required>
            </div>
            
            <button type="submit">ğŸ” Cari Tiket</button>
        </form>
        
        <div id="messageCek"></div>
        
        <div id="verifikasiForm" style="display: none; margin-top: 30px;">
            <h3>âœ… Tiket Ditemukan!</h3>
            <p style="margin-bottom: 20px;">Verifikasi data Anda untuk mengakses QR Code:</p>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                <div>
                    <label for="namaCek">Nama Lengkap:</label>
                    <input type="text" id="namaCek" placeholder="Masukkan nama sesuai pendaftaran" required>
                </div>
                
                <div style="margin-top: 15px;">
                    <label for="hpCek">Nomor HP:</label>
                    <input type="text" id="hpCek" placeholder="Masukkan nomor HP sesuai pendaftaran" required>
                </div>
            </div>
            
            <button id="verifBtn" type="button">âœ… Verifikasi Data</button>
        </div>
        
        <div id="hasilVerifikasi" style="display: none; margin-top: 30px;">
            <div style="background: #d4edda; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                <h3 style="color: #155724;">âœ… Verifikasi Berhasil!</h3>
                <p>QR Code tiket Anda:</p>
            </div>
            
            <div id="qrCode"></div>
            
            <button id="downloadBtn" style="background: #2ecc71; margin-right: 10px;">ğŸ“¥ Download QR Code</button>
            <button onclick="location.reload()" style="background: #95a5a6;">ğŸ”„ Cari Tiket Lain</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="script-cek-qr.js"></script>
</body>
</html>