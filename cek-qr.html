<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cek & Download QR Code</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <nav>
        <a href="index.html">ğŸ  Home</a>
        <a href="daftar.html">ğŸ“ Daftar</a>
        <a href="cek-qr.html" class="active">ğŸ” Cek QR</a>
    </nav>

    <div class="container fade-in">
        <h1>ğŸ” Cek & Download QR Code</h1>
        
        <div style="margin-bottom: 30px; text-align: center;">
            <p>Cari tiket Anda berdasarkan nomor tiket, lalu verifikasi dengan nama dan HP untuk mengakses QR Code.</p>
        </div>
        
        <form id="cekForm">
            <div>
                <label for="cekNomorTiket">Nomor Tiket:</label>
                <input type="text" id="cekNomorTiket" placeholder="Masukkan nomor tiket Anda" required>
                <small style="color: #666; display: block; margin-top: 5px;">* Masukkan nomor tiket yang Anda daftarkan</small>
            </div>
            
            <button type="submit" class="btn-success">ğŸ” Cari Tiket</button>
        </form>
        
        <div id="messageCek"></div>
        
        <div id="verifikasiForm" style="display: none; margin-top: 30px;">
            <div style="background: #f8f9fa; padding: 25px; border-radius: 10px;">
                <h3 style="text-align: center; color: #155724;">âœ… Tiket Ditemukan!</h3>
                <p style="text-align: center; margin-bottom: 20px;">Verifikasi data Anda untuk mengakses QR Code:</p>
                
                <div>
                    <label for="namaCek">Nama Lengkap:</label>
                    <input type="text" id="namaCek" placeholder="Masukkan nama sesuai pendaftaran" required>
                </div>
                
                <div style="margin-top: 15px;">
                    <label for="hpCek">Nomor HP:</label>
                    <input type="text" id="hpCek" placeholder="Masukkan nomor HP sesuai pendaftaran" required>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button id="verifBtn" type="button" class="btn-success" style="padding: 15px 30px;">
                    âœ… Verifikasi Data
                </button>
            </div>
        </div>
        
        <div id="hasilVerifikasi" style="display: none; margin-top: 30px;">
            <div style="background: #d4edda; padding: 25px; border-radius: 10px; margin-bottom: 30px;">
                <h3 style="color: #155724; text-align: center;">âœ… Verifikasi Berhasil!</h3>
                <p style="text-align: center;">QR Code tiket Anda siap untuk didownload:</p>
            </div>
            
            <div style="text-align: center;">
                <h3>QR Code Tiket</h3>
                <div id="qrCode"></div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button id="downloadBtn" class="btn-success" style="padding: 15px 30px; margin-right: 15px;">
                    ğŸ“¥ Download QR Code
                </button>
                <button onclick="location.reload()" class="btn" style="padding: 15px 30px;">
                    ğŸ”„ Cari Tiket Lain
                </button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="script-cek-qr.js"></script>
</body>
</html>